//This will describe heroes by name, roles, and other stuff.
//tags: 
//position: support, carry, jungle, mid, ganker,offlane, farming,push
//props: horse, cold, lightning, fire, earth, old, axe, flying, blood, spider, summons, bones,mechanical, fragile, fast,redhead, slamdunk
//personality: hatemagic, dead, manly, twopeople, crazy, loud, drunk, girl, fundamental, honorable, nice
//Legs: multilegged, nolegs 
//Colors: red, yellow, purple, blue, orange
//Actions: heal, spin, blink, invisibility, illusions
heroinfo={
	abaddon:["support","horse","dead","multilegged", "heal","multiuse"],
	alchemist:["carry","twopeople","yellow","greedy","transforms"],
	ancient_apparition:["support","cold","nolegs","blue","old"],
	antimage:['carry','purple','hatemagic','blink','arrogant',"slamdunk"],
	axe:["manly", "jungle", "spin", "red","loud","axe"],
	bane:["crazy","support","purple", "nightmare","nolegs"],
	batrider:["orange","mid","flying","nolegs","fire","redhead"],	
	beastmaster:["animals","loud","axe", "ganker"],
	bloodseeker:["fast","blood","crazy","ganker","red"],
	bounty_hunter:["offlane","invisible","yellow","greedy"],
	brewmaster:["drunk","mid","earth","lightning","fire"],
	bristleback:["manly","yellow","farming"],
	broodmother:["bug","red","offlane","girl","summons","multilegged","invisibility","push","ugly"],
	centaur_warrunner:["manly","axe","farming","multilegged","big"],
	chaos_knight:["old","horse","carry","fundamental","multilegged","illusions","red", "sword"],
	chen:["heal","jungle","dominates","horse","multilegged","push"],
	clinkz:["dead","bones","invisibility","offlane","crazy","fire","arrows","ugly"],
	clockwerk:["mechanical","crazy","offlane"],
	crystal_maiden:["support","girl","fragile","cold","blue"],
	dark_seer:["fast","offlane","purple"],
	dazzle:["purple","heal","fragile","support"],
	death_prophet:["dead","nolegs","girl","summons","mid","push"],
	disruptor:["support","blue","lightning","horse","multilegged"],
	doom_bringer:["manly","carry","greedy","red","demon","sword"],
	dragon_knight:["honorable","red","carry","push","sword","transforms"],
	drow_ranger:["carry","blue","girl","cold","arrows"],
	earthshaker:["earth","support","honorable","slamdunk","big"],
	elder_titan:["earth","multiuse","honorable","big"],
	enchantress:["girl","nice","multilegged","jungle","redhead","heal"],
	enigma:["jungle","fundamental","summons","demon","nolegs","blue"],
	faceless_void:["time","carry","arrogant","blue"],
	gyrocopter:["carry","crazy","flying","nolegs","old","guns"],
	huskar:["manly","fire","farming","slamdunk"],
	invoker:["arrogant","mid","old"],
	io:["blue","support","crazy","flying","nolegs","fundamental"],
	jakiro:["twopeople", "fire","ice","flying","nolegs","support"],
	juggernaut:["honorable","carry","spin","sword"],
	keeper_of_the_light:["old","fundamental","support","fragile","multilegged","transforms","horse"],
	kunkka:["water","sword","mid","dead","blue"],
	leshrac:["blue","lightning","earth","support","multilegged"],
	lich:["blue","cold","support","flying","nolegs","ugly"],
	lifestealer:["blood","carry","dead","ugly"],
	lina:["redhead","girl","flying","nolegs","fire","support"],
	lion:["ugly","support","voodoo"],
	lone_druid:["summons","carry","offlane","old","honorable","transforms"],
	luna:["girl","carry","night","multilegged","horse","blue"],
	lycanthrope:["manly","transforms","honorable","carry","fast"],
	magnus:["honorable","multilegged","mid","big"],
	medusa:["ugly","girl","carry","arrows","nolegs"],
	meepo:["crazy","carry"],
	mirana:["girl","multilegged","horse","carry","arrows"],
	morphling:["water","carry","blue","nolegs"],
	naga_siren:["girl","ugly","nolegs","fish","illusions"],
	natures_prophet:["summons","greedy","carry","jungle","green","offlane","push"],
	necrolyte:["old","dead","green","farming","heal","slamdunk"],
	night_stalker:["night","blue","mid","ganker","fast","transforms"],
	nyx_assassin:["support","mid","bug","multilegged"],
	ogre_magi:["twopeople","blue","support"],
	omniknight:["honorable","heals","farming"],
	outworld_devourer:["flying","nolegs","mid"],
	phantom_assassin:["carry","girl","blink","blood"],
	phantom_lancer:["carry","illusions","invisibility","blue", "arrogant"],
	puck:["nice","flying","nolegs","mid","blink"],
	pudge:["dead","mid","ganker"],
	pugna:["dead","push","bones","hatemagic","farming"],
	queen_of_pain:["blink","girl","mid"],
	razor:["blue","farming","lightning","fast"],
	riki:["invisibility","ganker","carry","arrogant","blink"],
	rubick:["old","support","green","crazy"],
	sand_king:["invisible","earth","support","bug"],
	shadow_demon:["red","support","demon","bones","fragile"],
	shadow_fiend:["demon","farming","arrogant"],
	shadow_shaman:["support","push","voodoo","fragile"],
	silencer:["hatemagic","purple","support","fragile"],
	skeleton_king:["dead","bones","arrogant","manly","loud"],
	skywrath_mage:["flying","nolegs","support","nice","fragile"],
	slardar:["fish","carry","fast","blue"],
	slark:["fish","blue","ganker","mid","invisibility"],
	sniper:["guns","old","carry","fragile"],
	spectre:["illusions","girl","carry","purple"],
	spirit_breaker:["manly","ganker","fast","blue"],
	storm_spirit:["blue","mid","lightning","arrogant","blink"],
	sven:["manly","honorable","sword","carry","transforms"],
	templar_assassin:["girl","mid","ganker","purple","invisibility"],
	tidehunter:["fish","green","support","water","big"],
	timbersaw:["crazy","farming"],
	tinker:["mechanical","mid","push"],
	tiny:["earth","carry","old","big"],
	treant_protector:["big","support","heal","old"],
	troll_warlord:["farming"],
	tusk:["drunk","manly","cold"],
	undying:["green","dead","heal","transforms","ugly","big","summons"],
	ursa:["manly","carry"],
	vengeful_spirit:["girl","dead","support","fragile"],
	venomancer:["green","support","ugly","nolegs"],
	viper:["green","carry","ugly","nolegs","flying"],
	visage:["flying","nolegs","support","summons"],
	warlock:["red","summons","demon","arrogant"],
	weaver:["blue","carry","invisibility","fast", "bug"],
	windrunner:["green","redhead","nice"],
	witch_doctor:["voodoo","fragile","purple","heal"],
	zeus:["blue","lightning","mid","arrogant"]
	
	
			
 //position: support, carry, jungle, mid, ganker,offlane, farming,push
//props: horse, cold, lightning, fire, earth, old, axe, sword, guns, arrows, flying, blood, bug, summons, bones,mechanical, fragile, fast,redhead, slamdunk,summons, big
//personality: hatemagic, dead, manly, arrogant, twopeople, crazy, loud, drunk, girl, fundamental, honorable, nice, transforms, ugly, voodoo
//Legs: multilegged, nolegs 
//Colors: red, yellow, purple, blue, orange
//Actions: heal, spin, blink, invisibility, illusions
};


//This will describe how heroes interact with each other or situations for quotes
quotetriggers=[
{name:"antimage", quote:"The fun ends here!"},
{name:"antimage", enemy:["invoker"],quote:"Hey Invoker! F*ck Magic!"},
{name:"axe", ally:["lina"],quote:"AXE THINKS YOU ARE HOT!"},
{name:"abaddon", allytrait:["heal"], quote:"Go team healers!"},
{name:"slardar",enemytrait:["invisibility"],quote:"You won't escape my sight!"},
{trait:["fragile"],quote:"I hope I don't get ganked in my way there!"},
{trait:["ugly"],allytrait:["girl"],quote:"Hey gorgeous.",reply:"Ew..."},
{trait:["manly"],enemytrait:["manly"], quote: "Hey, you! 1v1, at the bottom rune, now!"},
{trait:["support"], lane:["mid","solo"], quote: "May... I have farm in this lane?"},
{name:"spirit_breaker",quote:"Choo choooo!"},
{fullteam:"blue", quote:"Behold the power of the mighty blue strat!"}
];

function match(arr1, arr2)
{
	
	for(var i = 0; i<arr1.length; i++){
	    for(var j=0; j<arr2.length; j++){
	        if(arr1[i] === arr2[j]){
	            return true;
	        }
	    }
	}
	return false;
}
function findQuote (hero, side, lane)
{
	instances = findPattern(heropicks[side]);
	fullteamquote=namequote.filter(function(value, index,array){return !('fullteam' in value) || match(instances[heropicks[side].length-1],value['fullteam']);}); //Remove all quotes for fullteams that don't apply'
	partialteamquote=namequote.filter(function(value, index,array){return !('partial' in value) || match(instances[heropicks[side].length-2],value['partialteam']);}); //Remove all quotes for fullteams that don't apply'
	
	namequote=fullteamquote.filter(function(value, index,array){return !('name' in value) || value['name']==hero;}); //Remove all quotes that are not for this hero
	traitquote=namequote.filter(function(value, index,array){return !('trait' in value) || match(heroinfo[hero],value['trait']);}); //Remove all quotes for traits that don't belong to this hero.
	enemyquote=traitquote.filter(function(value,index,array){return !('enemy' in value) || match(getEnemy(side,lane),value['enemy']);});
	allyquote=namequote.filter(function(value,index,array){return   !('ally' in value) || match(getAlly(side,lane),value['enemy']);});
	return allyquote;
};



function findPattern (herolist)
{
	//multilegged, nolegs 
	//red, yellow, purple, blue, orange
	//horse, cold, lightning, fire, earth
	instances=[[],[],[],[],[]];
	for(var i=0;i<herolist.length-1;i++)
		for (var j=0;j<heroinfo[herolist[i]].length;j++)
			for (var k=3;k>=0;k--)
				if(instances[k].indexOf(heroinfo[herolist[i]][j])>-1)
					instances[k+1].concat(heroinfo[herolist[i]][j]);
	return instances;
};



